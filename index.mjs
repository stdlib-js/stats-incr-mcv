// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";var a=e.isPrimitive,m=r.isPrimitive,f=i,l=t,d=s,o=n;var u=function(e,r){var i,t,s,n,u,p,h,v;if(!a(e))throw new TypeError(o("invalid argument. Must provide a positive integer. Value: `%s`.",e));if(t=new d(e),h=e-1,n=0,v=-1,p=0,arguments.length>1){if(!m(r))throw new TypeError(o("invalid argument. Must provide a number. Value: `%s`.",r));return u=r,g}return u=0,j;function j(r){var a,m;if(0===arguments.length)return 0===p?null:1===p?f(n)?NaN:0/u:p<e?l(n/(p-1))/u:l(n/h)/u;if(v=(v+1)%e,f(r))p=e,u=NaN,n=NaN;else{if(p<e)return t[v]=r,n+=(i=r-u)*(r-(u+=i/(p+=1))),1===p?0/u:l(n/(p-1))/u;if(1===p)return(n=0)/(u=r);if(f(t[v])){for(p=1,u=r,n=0,a=0;a<e;a++)if(a!==v){if(m=t[a],f(m)){p=e,u=NaN,n=NaN;break}n+=(i=m-u)*(m-(u+=i/(p+=1)))}}else!1===f(n)&&(s=t[v],n+=(i=r-s)*(s-u+(r-(u+=i/e))))}return t[v]=r,l(n/h)/u}function g(r){var a;if(0===arguments.length)return 0===p?null:p<e?l(n/p)/u:l(n/e)/u;if(v=(v+1)%e,f(r))p=e,n=NaN;else{if(p<e)return t[v]=r,l((n+=(i=r-u)*i)/(p+=1))/u;if(f(t[v])){for(n=0,a=0;a<e;a++)if(a!==v){if(f(t[a])){p=e,n=NaN;break}i=t[a]-u,n+=i*i}}else!1===f(n)&&(s=t[v],n+=(r-s)*(r-u+s-u))}return t[v]=r,l(n/e)/u}};export{u as default};
//# sourceMappingURL=index.mjs.map

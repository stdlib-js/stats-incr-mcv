// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";var m=r.isPrimitive,f=e.isPrimitive,a=t,d=s,o=i,l=n;var h=function(r,e){var t,s,i,n,h,j,p,u;if(!m(r))throw new TypeError(l("0dk8T",r));if(s=new o(r),p=r-1,n=0,u=-1,j=0,arguments.length>1){if(!f(e))throw new TypeError(l("0dkA8",e));return h=e,N}return h=0,v;function v(e){var m,f;if(0===arguments.length)return 0===j?null:1===j?a(n)?NaN:0/h:j<r?d(n/(j-1))/h:d(n/p)/h;if(u=(u+1)%r,a(e))j=r,h=NaN,n=NaN;else{if(j<r)return s[u]=e,n+=(t=e-h)*(e-(h+=t/(j+=1))),1===j?0/h:d(n/(j-1))/h;if(1===j)return(n=0)/(h=e);if(a(s[u])){for(j=1,h=e,n=0,m=0;m<r;m++)if(m!==u){if(f=s[m],a(f)){j=r,h=NaN,n=NaN;break}n+=(t=f-h)*(f-(h+=t/(j+=1)))}}else!1===a(n)&&(i=s[u],n+=(t=e-i)*(i-h+(e-(h+=t/r))))}return s[u]=e,d(n/p)/h}function N(e){var m;if(0===arguments.length)return 0===j?null:j<r?d(n/j)/h:d(n/r)/h;if(u=(u+1)%r,a(e))j=r,n=NaN;else{if(j<r)return s[u]=e,d((n+=(t=e-h)*t)/(j+=1))/h;if(a(s[u])){for(n=0,m=0;m<r;m++)if(m!==u){if(a(s[m])){j=r,n=NaN;break}t=s[m]-h,n+=t*t}}else!1===a(n)&&(i=s[u],n+=(e-i)*(e-h+i-h))}return s[u]=e,d(n/r)/h}};export{h as default};
//# sourceMappingURL=index.mjs.map
